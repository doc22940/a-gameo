(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=r.a.createContext({}),b=function(e){var t=r.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},l=function(e){var t=b(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=b(a),d=n,h=l["".concat(c,".").concat(d)]||l[d]||m[d]||o;return a?r.a.createElement(h,i(i({ref:t},p),{},{components:a})):r.a.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,c=new Array(o);c[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var p=2;p<o;p++)c[p]=a[p];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},76:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return b}));var n=a(2),r=a(6),o=(a(0),a(109)),c={id:"api-usage",title:"API Usage",slug:"/api-usage"},i={unversionedId:"api-usage",id:"api-usage",isDocsHomePage:!1,title:"API Usage",description:"Twitch",source:"@site/docs\\api-usage.md",slug:"/api-usage",permalink:"/Gameo/docs/next/api-usage",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/api-usage.md",version:"current",sidebar:"docs",previous:{title:"Rate Game",permalink:"/Gameo/docs/next/rate-game"},next:{title:"Updating Recommendations",permalink:"/Gameo/docs/next/update-recommend"}},s=[{value:"Twitch",id:"twitch",children:[]},{value:"RAWG",id:"rawg",children:[]}],p={rightToc:s};function b(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"twitch"},"Twitch"),Object(o.b)("p",null,"One of the biggest weakness of collaborative filtering is the ",Object(o.b)("strong",{parentName:"p"},"cold start")," problem. This problem arises when there is little or no data to work with to predict user preferences.\nThis means for new users, we need to find another way to recommend games."),Object(o.b)("p",null,"Recall ",Object(o.b)("strong",{parentName:"p"},"Demographic Filtering")," from one of the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/Gameo/docs/next/collaborative-filtering"}),"algorithms of a recommendation engine"),".\nThis type of filtering can effectively counter this problem, and to do this, we have incorporated the use of Twitch's API to fetch some of the most trending games that are being played."),Object(o.b)("p",null,"The official documentation to the API can be found ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://dev.twitch.tv/docs/api/"}),"here"),"."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Before using the API, make sure you have your ",Object(o.b)("strong",{parentName:"p"},"client id")," and ",Object(o.b)("strong",{parentName:"p"},"auth token")," ready. They need to be included in the header of the API call."))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'/* Example using axios */\naxios.get(url, {\n  headers: {\n    "client-id": process.env.REACT_APP_TWITCH_CLIENT_ID,\n    Authorization: "Bearer " + process.env.REACT_APP_TWITCH_AUTH_TOKEN,\n  },\n});\n')),Object(o.b)("p",null,"The route we're using is getting the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://dev.twitch.tv/docs/api/reference#get-top-games"}),"Top Games"),".\nBy default, the API will return the top 20 games, but this seems too little and thankfully, the API supports an optional query parameter to adjust this."),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Some of the titles that are returned by the Twitch API are not games."))),Object(o.b)("p",null,"Taking into account that the Twitch API can contain titles that are not actual games (e.g., Just Chatting), the resulting API call we decided to use is taking the top 60 games."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"https://api.twitch.tv/helix/games/top?first=60")),Object(o.b)("p",null,"To filter out titles that are not actually games, we use another route ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://dev.twitch.tv/docs/api/reference#search-categories"}),"Search Categories"),".\nSpecifically, we want to search for two non-game categories, IRL and creative."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"https://api.twitch.tv/helix/search/categories?query=IRL\nhttps://api.twitch.tv/helix/search/categories?query=creative\n")),Object(o.b)("p",null,"Suppose our initial 60 games are stored in an array called ",Object(o.b)("strong",{parentName:"p"},"topGames"),", and ",Object(o.b)("strong",{parentName:"p"},"notGames")," is the array containing the results of the above two API calls, then a simple filter would do the trick:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"topGames = topGames.filter((el) => !notGames.find((rm) => rm.name === el.name));\n")),Object(o.b)("p",null,"These API calls would be made as soon as the component to display this information is mounted. We can achieve this using the useEffect hook like so:"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("strong",{parentName:"p"},"getTopGames")," is a promise that resolves our desired array of top games."))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const [topGames, setTopGames] = useState([]);\n\nuseEffect(() => {\n  getTopGames().then((result) => {\n    setTopGames(result);\n  });\n}, []);\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"The ",Object(o.b)("strong",{parentName:"p"},"useEffect")," hook can be seen as equivalent to the ",Object(o.b)("strong",{parentName:"p"},"componentDidMount")," and ",Object(o.b)("strong",{parentName:"p"},"componentDidUpdate")," life cycle methods depending on what goes inside the array parameter.\nThe array parameter specifies ",Object(o.b)("strong",{parentName:"p"},"dependencies")," that will control when the function executes. If the array parameter is empty, then useEffect is essentially componentDidMount since it has no dependencies and is executed only once when the component is mounted.\nOtherwise, it acts as componentDidUpdate and executes everytime a dependency variable is changed."))),Object(o.b)("h2",{id:"rawg"},"RAWG"),Object(o.b)("p",null,"Because the Twitch API doesn't provide us the metadata of a game, we decide to use the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://rawg.io/apidocs"}),"RAWG API")," to do the job."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Unlike Twitch's API, using the RAWG API doesn't require an auth token or an api key of any sort."))),Object(o.b)("p",null,"First, we'll search for the game using the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://api.rawg.io/docs/#tag/games"}),"Games")," route and passing in a game's name as the search query."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'https://api.rawg.io/api/games?search=" + game.name\n')),Object(o.b)("p",null,"This will return a list of game objects, and the first one on the list is the one we want. Now, we want to do another API call that would provide us the metadata for the game.\nThe following snippet of code shows how the promise would look like."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'if (res.data.results.length > 0) {\n  const game = res.data.results[0];\n  axios\n    .get("https://api.rawg.io/api/games/" + game.id)\n    .then((res) => {\n      if (res && res.data) {\n        const info = res.data;\n        resolve(res.data);\n      }\n    })\n    .catch((err) => {\n      reject(err);\n    });\n} else reject("No game found");\n')))}b.isMDXComponent=!0}}]);